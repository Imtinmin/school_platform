webpackJsonp([5],{289:function(t,e,n){"use strict";function a(t){n(408)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(328),i=n(393),s=n(65),o=a,c=s(r.a,i.a,!1,o,"data-v-e93ba1dc",null);e.default=c.exports},302:function(t,e,n){"use strict";var a=n(39),r=n.n(a),i=n(38),s=n.n(i),o=n(40),c=n.n(o),u=n(116),l=n.n(u),d=n(41),p=n.n(d),v=n(42),f=n.n(v),h=n(118),m=n.n(h),x=n(117),b=n.n(x),g=n(115),w=function(t){function e(){return p()(this,e),m()(this,(e.__proto__||l()(e)).apply(this,arguments))}return b()(e,t),f()(e,[{key:"GetExam",value:function(t){var e=this;return new c.a(function(){var n=s()(r.a.mark(function n(a,i){var s;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.request("GET","/Examination/getExam",{exam_id:t},{needAuth:!0});case 3:s=n.sent,a(s),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),i(n.t0);case 10:case"end":return n.stop()}},n,e,[[0,7]])}));return function(t,e){return n.apply(this,arguments)}}())}},{key:"AbandonExam",value:function(){var t=this;return new c.a(function(){var e=s()(r.a.mark(function e(n,a){var i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.request("GET","/Examination/Abandon",null,{needAuth:!0});case 3:i=e.sent,n(i),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a(e.t0);case 10:case"end":return e.stop()}},e,t,[[0,7]])}));return function(t,n){return e.apply(this,arguments)}}())}},{key:"ExamStatus",value:function(){var t=this;return new c.a(function(){var e=s()(r.a.mark(function e(n,a){var i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.request("GET","/Examination/Status",null,{needAuth:!0});case 3:i=e.sent,n(i),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a(e.t0);case 10:case"end":return e.stop()}},e,t,[[0,7]])}));return function(t,n){return e.apply(this,arguments)}}())}},{key:"SubmitAnswer",value:function(t,e){var n=this;return new c.a(function(){var a=s()(r.a.mark(function a(i,s){var o;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,n.request("POST","/Examination/SubmitAnswer",{answer:t,examID:e},{needAuth:!0});case 3:o=a.sent,i(o),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),s(a.t0);case 10:case"end":return a.stop()}},a,n,[[0,7]])}));return function(t,e){return a.apply(this,arguments)}}())}},{key:"AddExam",value:function(t,e,n,a){var i=this;return new c.a(function(){var o=s()(r.a.mark(function s(o,c){var u;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,i.request("POST","/Examination/AddExam",{examName:t,score:e,chapter_id:n,course_id:a},{needAuth:!0});case 3:u=r.sent,o(u),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),c(r.t0);case 10:case"end":return r.stop()}},s,i,[[0,7]])}));return function(t,e){return o.apply(this,arguments)}}())}},{key:"DelExam",value:function(t){var e=this;return new c.a(function(){var n=s()(r.a.mark(function n(a,i){var s;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.request("GET","/Examination/DelExam",{examID:t},{needAuth:!0});case 3:s=n.sent,a(s),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),i(n.t0);case 10:case"end":return n.stop()}},n,e,[[0,7]])}));return function(t,e){return n.apply(this,arguments)}}())}},{key:"UpdateExam",value:function(t,e,n,a,i){var o=this;return new c.a(function(){var c=s()(r.a.mark(function s(c,u){var l;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,o.request("POST","/Examination/UpdateExam",{examID:t,examName:e,score:n,chapter_id:a,couse_id:i});case 3:l=r.sent,c(l),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),u(r.t0);case 10:case"end":return r.stop()}},s,o,[[0,7]])}));return function(t,e){return c.apply(this,arguments)}}())}},{key:"ExamList",value:function(){var t=this;return new c.a(function(){var e=s()(r.a.mark(function e(n,a){var i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.request("GET","/Examination/ExamList",null,{needAuth:!0});case 3:i=e.sent,n(i),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a(e.t0);case 10:case"end":return e.stop()}},e,t,[[0,7]])}));return function(t,n){return e.apply(this,arguments)}}())}}]),e}(g.a);e.a=new w},328:function(t,e,n){"use strict";var a=n(39),r=n.n(a),i=n(38),s=n.n(i),o=n(302);e.a={data:function(){return{min:"",sec:"",EndTime:"",Challenge:[],radio:"",loading:!1,correctNum:"",correctList:[],end:!1,dialogVisible:!1,dialogVisible1:!1,dialogVisible2:!1}},methods:{countDown:function(){var t=this,e=this.EndTime,n=(new Date).getTime(),a=e-n/1e3,r=parseInt(a%86400%3600/60),i=parseInt(a%86400%3600%60);if(this.min=r,this.sec=this.PrefixInteger(i,2),this.min<=0&&this.sec<=0)return this.dialogVisible=!0,!1;setTimeout(function(){t.countDown()},1e3)},PrefixInteger:function(t,e){return(Array(e).join("0")+t).slice(-e)},LoadView:function(){function t(t){return e.apply(this,arguments)}var e=s()(r.a.mark(function t(e){var n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.prev=1,t.next=4,o.a.GetExam(e);case 4:n=t.sent,this.EndTime=n.data.data.EndTime,this.Challenge=n.data.data.choice_question,this.countDown(),this.loading=!1,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),this.$handleError(t.t0);case 14:case"end":return t.stop()}},t,this,[[1,11]])}));return t}(),reset:function(){function t(){return e.apply(this,arguments)}var e=s()(r.a.mark(function t(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.AbandonExam();case 3:e=t.sent,this.dialogVisible2=!1,this.LoadView(this.$route.query.exam),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),this.$handleError(t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return t}(),submitform:function(){function t(t){return e.apply(this,arguments)}var e=s()(r.a.mark(function t(e){var n,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.SubmitAnswer(this.Challenge,e);case 3:for(n=t.sent,this.correctNum=n.data.data.correctNum,this.correctList=n.data.data.correctList,this.score=n.data.data.score,a=0;a<this.Challenge.length;a++)-1!==this.correctList.indexOf(this.Challenge[a].id)&&(this.Challenge[a].correct=!0);this.end=!0,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),this.$handleError(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])}));return t}(),preabandon:function(){this.dialogVisible2=!0},abandon:function(){function t(){return e.apply(this,arguments)}var e=s()(r.a.mark(function t(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.AbandonExam();case 3:e=t.sent,this.$router.push({name:"Home"}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),this.$handleError(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return t}(),getStatus:function(){function t(){return e.apply(this,arguments)}var e=s()(r.a.mark(function t(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.ExamStatus();case 3:e=t.sent,this.$route.query.exam?this.LoadView(this.$route.query.exam):this.$handleError("error"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),400==t.t0.code?this.dialogVisible=!0:this.dialogVisible1=!0;case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return t}()},created:function(){this.getStatus()},mounted:function(){}}},356:function(t,e,n){e=t.exports=n(25)(void 0),e.push([t.i,'.defaultCountdown[data-v-e93ba1dc]{right:3%;width:100px;height:40px;border:1px solid #ccc;background-color:#eee;text-align:center;font-size:200%;position:fixed}.clearfix[data-v-e93ba1dc]:after,.clearfix[data-v-e93ba1dc]:before{display:table;content:""}.clearfix[data-v-e93ba1dc]:after{clear:both}.options[data-v-e93ba1dc]{line-height:2}',""])},393:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[n("el-card",{staticStyle:{"margin-top":"2%"}},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("选择题")]),t._v(" "),n("span"),t._v(" "),t.end?t._e():n("div",{staticClass:"defaultCountdown"},[t._v(t._s(t.min)+":"+t._s(t.sec))])]),t._v(" "),t._l(t.Challenge,function(e,a){return n("div",{key:a,staticStyle:{"margin-top":"3%"}},[n("el-card",{staticStyle:{"margin-left":"10%","margin-right":"10%"}},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("题目: "+t._s(e.title)+" ")]),t._v(" "),t.end?n("span",[e.correct?n("span",{staticStyle:{"margin-left":"2%",color:"green"}},[t._v("正确")]):n("span",{staticStyle:{"margin-left":"2%",color:"red"}},[t._v("错误")])]):t._e()]),t._v(" "),+e.is_multiple?t._e():n("div",[n("el-radio-group",{model:{value:e.radio,callback:function(n){t.$set(e,"radio",n)},expression:"challenge.radio"}},t._l(e.options,function(e,a){return n("el-radio",{key:a,attrs:{label:e}},[t._v(t._s(e))])}),1)],1)])],1)}),t._v(" "),t.end?n("div",{staticStyle:{"margin-left":"40%",color:"red","font-size":"20px","margin-top":"4%"}},[t._v("\n      分数："+t._s(t.score)+"\n    ")]):n("div",[n("el-button",{staticStyle:{"margin-top":"4%","margin-left":"40%"},attrs:{type:"primary"},on:{click:function(e){return t.submitform(t.$route.query.exam)}}},[t._v("提交答案")]),t._v(" "),n("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.preabandon()}}},[t._v("放弃")])],1)],2),t._v(" "),n("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"20%",center:"",top:"30vh"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("span",[t._v("是否开始答题？限时30分钟")]),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){return t.toIndex()}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.LoadView(t.$route.query.exam),t.dialogVisible=!1}}},[t._v("确 定")])],1)]),t._v(" "),n("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible1,width:"20%",center:"",top:"30vh"},on:{"update:visible":function(e){t.dialogVisible1=e}}},[n("span",[t._v("时间到，重新开始？")]),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.reset(),t.dialogVisible1=!1}}},[t._v("确 定")])],1)]),t._v(" "),n("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible2,width:"20%",center:"",top:"30vh"},on:{"update:visible":function(e){t.dialogVisible2=e}}},[n("span",[t._v("是否放弃答题")]),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.abandon()}}},[t._v("确 定")])],1)])],1)},r=[],i={render:a,staticRenderFns:r};e.a=i},408:function(t,e,n){var a=n(356);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(66)("133f46c6",a,!0,{})}});
//# sourceMappingURL=5.js.map?31eac235281e19e514ef