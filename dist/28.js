webpackJsonp([28],{280:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(321),r=a(388),s=a(65),i=s(n.a,r.a,!1,null,null,null);e.default=i.exports},321:function(t,e,a){"use strict";var n=a(39),r=a.n(n),s=a(38),i=a.n(s),c=a(67);e.a={data:function(){return{tableData:[]}},methods:{UpdateAdmin:function(){function t(t,a){return e.apply(this,arguments)}var e=i()(r.a.mark(function t(e,a){var n,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.tableData[e].user_id,t.prev=1,t.next=4,c.a.UpdateAdmin(n);case 4:s=t.sent,this.$message.success(s.data.msg),this.tableData[e].admin=1,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),this.$handleError(t.t0);case 12:case"end":return t.stop()}},t,this,[[1,9]])}));return t}(),confirm:function(t,e){var a=this;this.$confirm("确认删除 "+e[t].name+" ?").then(function(n){a.deleteRow(t,e)}).catch(function(t){})},deleteRow:function(){function t(t,a){return e.apply(this,arguments)}var e=i()(r.a.mark(function t(e,a){var n,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.tableData[e].user_id,t.prev=1,t.next=4,c.a.DeleteUser(n);case 4:s=t.sent,this.$message.success(s.data.msg),a.splice(e,1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),this.$handleError(t.t0);case 12:case"end":return t.stop()}},t,this,[[1,9]])}));return t}(),degrade:function(){function t(t,a){return e.apply(this,arguments)}var e=i()(r.a.mark(function t(e,a){var n,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.tableData[e].user_id,t.prev=1,t.next=4,c.a.degrade(n);case 4:s=t.sent,this.$message.success(s.data.msg),this.tableData[e].admin=0,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),this.$handleError(t.t0);case 12:case"end":return t.stop()}},t,this,[[1,9]])}));return t}(),LoadUserList:function(){function t(){return e.apply(this,arguments)}var e=i()(r.a.mark(function t(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.UserList();case 3:e=t.sent,this.tableData=e.data.data,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),this.$handleError(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return t}()},mounted:function(){this.LoadUserList()}}},388:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"user_id",label:"user_id",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"name",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"signUpTime",label:"注册时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"lastLoginTime",label:"上次登录时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"admin",label:"是否为管理员",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"banned",label:"banned",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){return t.UpdateAdmin(e.$index,e.row)}}},[t._v("赐予管理员")]),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(a){return t.degrade(e.$index,e.row)}}},[t._v("贬了")]),t._v(" "),a("el-button",{attrs:{size:"medium",type:"danger"},on:{click:function(a){return t.confirm(e.$index,t.tableData)}}},[t._v("删除")])]}}])})],1)],1)},r=[],s={render:n,staticRenderFns:r};e.a=s}});
//# sourceMappingURL=28.js.map?aae856f6ffde47431de9